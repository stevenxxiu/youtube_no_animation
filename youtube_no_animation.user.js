// ==UserScript==
// @name        YouTube No Animation
// @namespace   Violentmonkey Scripts
// @match       https://www.youtube.com/watch*
// @grant       none
// @inject-into content
// @version     1.0
// @author      -
// @description 25/01/2026, 1:15:20 am
// ==/UserScript==

const SVG_NS = 'http://www.w3.org/2000/svg'
const LIKE_ACTIVE_SVG = `
  <defs>
    <clipPath id="__lottie_element_72">
      <rect width="48" height="48" x="0" y="0" />
    </clipPath>
  </defs>
  <g clip-path="url(#__lottie_element_72)">
    <g style="display: block;" transform="matrix(1,0,0,1,21.899999618530273,24.200000762939453)" opacity="1">
      <path fill="rgb(0,0,0)" fill-opacity="1" d="
        M0,-3.25 C1.7936749458312988,-3.25 3.25,-1.7936749458312988 3.25,0 C3.25,1.7936749458312988
        1.7936749458312988,3.25 0,3.25 C-1.7936749458312988,3.25 -3.25,1.7936749458312988 -3.25,0
        C-3.25,-1.7936749458312988 -1.7936749458312988,-3.25 0,-3.25z M0.7960000038146973,-9.994999885559082
        C2.5880000591278076,-9.550000190734863 3.575000047683716,-7.699999809265137 3.1480000019073486
        -5.933000087738037 C2.9639999866485596,-5.171000003814697 2.755000114440918,-4.4120001792907715
        2.440000057220459,-3.4560000896453857 C2.125,-2.5 3.7939999103546143,-2.138000011444092
        2.634999990463257,0.45100000500679016 C1.746999979019165,2.434999942779541 -3.75,0.7250000238418579
        -2.7279999256134033,-2.1700000762939453 C-1.840999960899353,-4.681000232696533
        -1.024999976158142,-7.050000190734863 -0.17000000178813934,-9.472999572753906
        C-0.019999999552965164,-9.89900016784668 0.3869999945163727,-10.095999717712402
        0.7960000038146973,-9.994999885559082z" />
    </g>
    <g style="display: block;" transform="matrix(1,0,0,1,24,24)" opacity="1">
      <path fill="rgb(0,0,0)" fill-opacity="1" d="
        M-0.2070000022649765,-2.4600000381469727 C0.26600000262260437,-2.0169999599456787
        0.6620000004768372,-2.006999969482422 1.3259999752044678,-2.006999969482422
        C1.3259999752044678,-2.006999969482422 6.616000175476074,-2.006999969482422
        6.616000175476074,-2.006999969482422 C7.465000152587891,-2.00600004196167
        8.239999771118164,-1.5269999504089355 8.619000434875488,-0.7680000066757202
        C8.619000434875488,-0.7680000066757202 8.79800033569336,-0.4099999964237213
        8.79800033569336,-0.4099999964237213 C9.199999809265137,0.3930000066757202 8.942000389099121,1.36899995803833
        8.197999954223633,1.86899995803833 C8.074000358581543,1.9520000219345093 8,2.0910000801086426
        8,2.240000009536743 C8,2.240000009536743 8,2.309000015258789 8,2.309000015258789 C8,2.434000015258789
        8.041000366210938,2.555999994277954 8.116000175476074,2.6559998989105225 C8.88599967956543,3.678999900817871
        8.704999923706055,5.133999824523926 7.704999923706055,5.934000015258789 C7.704999923706055,5.934000015258789
        7.205999851226807,6.331999778747559 7.205999851226807,6.331999778747559 C7.081999778747559,6.431000232696533
        7.0329999923706055,6.5980000495910645 7.083000183105469,6.748000144958496 C7.083000183105469,6.748000144958496
        7.1529998779296875,6.953999996185303 7.1529998779296875,6.953999996185303 C7.369999885559082,7.607999801635742
        7.252999782562256,8.326000213623047 6.840000152587891,8.876999855041504 C6.310999870300293,9.581999778747559
        5.480999946594238,9.998000144958496 4.599999904632568,9.996999740600586 C4.599999904632568,9.996999740600586
        0.6869999766349792,9.994999885559082 0.6869999766349792,9.994999885559082 C-1.4010000228881836,9.994000434875488
        -3.453000068664551,9.447999954223633 -5.264999866485596,8.41100025177002 C-5.264999866485596,8.41100025177002
        -5.538000106811523,8.255999565124512 -5.538000106811523,8.255999565124512 C-5.840000152587891,8.083000183105469
        -6.183000087738037,7.992000102996826 -6.531000137329102,7.992000102996826 C-6.531000137329102,7.992000102996826
        -9,7.992000102996826 -9,7.992000102996826 C-9.552000045776367,7.992000102996826 -10,7.544000148773193
        -10,6.992000102996826 C-10,6.992000102996826 -10,0.9950000047683716 -10,0.9950000047683716
        C-10,0.44200000166893005 -9.550999641418457,-0.006000000052154064 -8.998000144958496,-0.004999999888241291
        C-8.998000144958496,-0.004999999888241291 -6.210999965667725,0 -6.210999965667725,0
        C-5.784999847412109,0.0010000000474974513 -5.406000137329102,-0.2680000066757202
        -5.264999866485596,-0.6700000166893005 C-5.264999866485596,-0.6700000166893005
        -5.059000015258789,-0.8330000042915344 -4.901000022888184,-1.274999976158142
        C-4.301000118255615,-2.950000047683716 -0.859000027179718,-3.2170000076293945
        -0.2070000022649765,-2.4600000381469727z"
      />
    </g>
  </g>
`
const LIKE_INACTIVE_SVG = `
  <defs>
    <clipPath id="__lottie_element_72">
      <rect width="48" height="48" x="0" y="0" />
    </clipPath>
  </defs>
  <g clip-path="url(#__lottie_element_72)">
    <g style="display: block;" transform="matrix(1,0,0,1,24,24)" opacity="1">
      <path fill="rgb(0,0,0)" fill-opacity="1" d="
        M-2.7780001163482666,-10.204999923706055 C-2.618000030517578,-10.663999557495117
        -2.1500000953674316,-10.940999984741211 -1.6699999570846558,-10.862000465393066
        C-1.6699999570846558,-10.862000465393066 -0.6299999952316284,-10.687999725341797
        -0.6299999952316284,-10.687999725341797 C1.6200000047683716,-10.312000274658203
        3.0999999046325684,-8.135000228881836 2.621999979019165,-5.90500020980835
        C2.621999979019165,-5.90500020980835 2,-3 2,-3 C2,-3 6.060999870300293,-3 6.060999870300293,-3
        C7.7779998779296875,-3 9.265000343322754,-1.8079999685287476 9.637999534606934,-0.13199999928474426
        C9.868000030517578,0.9039999842643738 9.631999969482422,1.996000051498413 9,2.8489999771118164
        C9,2.8489999771118164 9.020000457763672,2.937000036239624 9.020000457763672,2.937000036239624
        C9.319000244140625,4.2210001945495605 8.932999610900879,5.567999839782715 8,6.5 C8,6.5
        8,6.543000221252441 8,6.543000221252441 C8,6.543000221252441 7.991000175476074,6.769000053405762
        7.991000175476074,6.769000053405762 C7.9730000495910645,6.994999885559082 7.927000045776367,7.2179999351501465
        7.855000019073486,7.433000087738037 C7.855000019073486,7.433000087738037 7.749000072479248,7.715000152587891
        7.749000072479248,7.715000152587891 C7.164000034332275,9.090999603271484 5.809000015258789,10
        4.295000076293945,10 C4.295000076293945,10 0.6890000104904175,10 0.6890000104904175,10 C0.6890000104904175,10
        0.2980000078678131,9.993000030517578 0.2980000078678131,9.993000030517578 C-1.5260000228881836,9.932999610900879
        -3.312999963760376,9.458999633789062 -4.926000118255615,8.604999542236328 C-4.926000118255615,8.604999542236328
        -5.269000053405762,8.416000366210938 -5.269000053405762,8.416000366210938 C-5.269000053405762,8.416000366210938
        -5.538000106811523,8.26200008392334 -5.538000106811523,8.26200008392334 C-5.802999973297119,8.109999656677246
        -6.098999977111816,8.020999908447266 -6.401000022888184,8.001999855041504 C-6.401000022888184,8.001999855041504
        -6.531000137329102,7.998000144958496 -6.531000137329102,7.998000144958496 C-6.531000137329102,7.998000144958496
        -8.5,7.998000144958496 -8.5,7.998000144958496 C-9.32800006866455,7.998000144958496 -10,7.326000213623047
        -10,6.498000144958496 C-10,6.498000144958496 -10,0.5 -10,0.5 C-10,-0.328000009059906 -9.32800006866455,-1
        -8.5,-1 C-8.5,-1 -6.710000038146973,-1 -6.710000038146973,-1 C-6.710000038146973,-1
        -6.552999973297119,-1.0130000114440918 -6.552999973297119,-1.0130000114440918
        C-6.244999885559082,-1.062000036239624 -5.9770002365112305,-1.2510000467300415
        -5.828999996185303,-1.5260000228881836 C-5.828999996185303,-1.5260000228881836
        -5.765999794006348,-1.6699999570846558 -5.765999794006348,-1.6699999570846558
        C-5.765999794006348,-1.6699999570846558 -2.7780001163482666,-10.204999923706055
        -2.7780001163482666,-10.204999923706055z M-3.878000020980835,-1.0089999437332153
        C-4.298999786376953,0.1940000057220459 -5.434999942779541,1 -6.710000038146973,1 C-6.710000038146973,1 -8,1
        -8,1 C-8,1 -8,5.998000144958496 -8,5.998000144958496 C-8,5.998000144958496 -6.531000137329102,5.998000144958496
        -6.531000137329102,5.998000144958496 C-5.835000038146973,5.998000144958496 -5.151000022888184,6.179999828338623
        -4.546000003814697,6.526000022888184 C-4.546000003814697,6.526000022888184 -4.275000095367432,6.679999828338623
        -4.275000095367432,6.679999828338623 C-4.275000095367432,6.679999828338623 -3.990000009536743,6.8379998207092285
        -3.990000009536743,6.8379998207092285 C-2.549999952316284,7.599999904632568
        -0.9430000185966492,8 0.6890000104904175,8 C0.6890000104904175,8 4.295000076293945,8 4.295000076293945,8
        C5.048999786376953,8 5.718999862670898,7.515999794006348 5.958000183105469,6.801000118255615
        C5.958000183105469,6.801000118255615 5.988999843597412,6.673999786376953 5.988999843597412,6.673999786376953
        C5.995999813079834,6.630000114440918 6,6.586999893188477 6,6.543000221252441 C6,6.543000221252441
        6,5.671000003814697 6,5.671000003814697 C6,5.671000003814697 6.586999893188477,5.085000038146973
        6.586999893188477,5.085000038146973 C6.974999904632568,4.697000026702881 7.164000034332275,4.1579999923706055
        7.110000133514404,3.619999885559082 C7.110000133514404,3.619999885559082 7.072000026702881,3.3889999389648438
        7.072000026702881,3.3889999389648438 C7.072000026702881,3.3889999389648438 7.052000045776367,3.302999973297119
        7.052000045776367,3.302999973297119 C7.052000045776367,3.302999973297119 6.8429999351501465,2.4019999504089355
        6.8429999351501465,2.4019999504089355 C6.8429999351501465,2.4019999504089355 7.392000198364258,1.659000039100647
        7.392000198364258,1.659000039100647 C7.682000160217285,1.2680000066757202 7.788000106811523,0.7670000195503235
        7.684999942779541,0.3019999861717224 C7.514999866485596,-0.45899999141693115 6.841000080108643,-1
        6.060999870300293,-1 C6.060999870300293,-1 2,-1 2,-1 C1.3960000276565552,-1
        0.8240000009536743,-1.2740000486373901 0.4440000057220459,-1.7430000305175781
        C0.06499999761581421,-2.2130000591278076 -0.0820000022649765,-2.8289999961853027
        0.04399999976158142,-3.4189999103546143 C0.04399999976158142,-3.4189999103546143
        0.6669999957084656,-6.322999954223633 0.6669999957084656,-6.322999954223633
        C0.906000018119812,-7.438000202178955 0.16599999368190765,-8.527000427246094
        -0.9589999914169312,-8.71500015258789 C-0.9589999914169312,-8.71500015258789 -1.1690000295639038,-8.75
        -1.1690000295639038,-8.75 C-1.1690000295639038,-8.75 -3.878000020980835,-1.0089999437332153
        -3.878000020980835,-1.0089999437332153z" />
    </g>
  </g>
`

function hookButtons() {
  if (document.getElementById('userLike')) {
    return
  }

  const topRow = document.getElementById('top-row')
  const likeSvg = topRow.querySelector('like-button-view-model svg')
  let isLiked = likeSvg.querySelectorAll(':scope > g > g[style="display: block;"]').length == 2

  const userLikeSvg = document.createElementNS(SVG_NS, 'svg')
  userLikeSvg.id = 'userLike'
  userLikeSvg.innerHTML = isLiked ? LIKE_ACTIVE_SVG : LIKE_INACTIVE_SVG
  userLikeSvg.setAttribute('width', '48')
  userLikeSvg.setAttribute('height', '48')
  userLikeSvg.setAttribute('viewBox', '0 0 48 48')
  userLikeSvg.setAttribute('preserveAspectRatio', 'xMidYMid meet')
  const likeButton = topRow.querySelector('like-button-view-model button')
  const likeSvgContainer = topRow.querySelector('like-button-view-model button lottie-component')
  likeSvgContainer.prepend(userLikeSvg)
  likeButton.addEventListener(
    'click',
    (e) => {
      if (!e.isTrusted) {
        return
      }
      likeButton.click()
      isLiked = !isLiked
      userLikeSvg.innerHTML = isLiked ? LIKE_ACTIVE_SVG : LIKE_INACTIVE_SVG
    },
    false,
  )
}

function main() {
  const observer = new MutationObserver(() => {
    if (document.body.querySelector('#top-row dislike-button-view-model svg')) {
      hookButtons()
      observer.disconnect()
    }
  })
  observer.observe(document.body, {
    childList: true,
    subtree: true,
  })
}

main()
